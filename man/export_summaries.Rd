% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export.R
\name{export_summaries}
\alias{export_summaries}
\title{Export Summarized Fishery Data for Dashboard Integration}
\usage{
export_summaries(log_threshold = logger::DEBUG)
}
\arguments{
\item{log_threshold}{The logging threshold level for monitoring operations (default: \code{logger::DEBUG}).}
}
\value{
This function does not return a value. It uploads the following collections to MongoDB:
\itemize{
\item Monthly catch summaries (\code{monthly_stats} and \code{monthly_summaries})
\item Gear distribution statistics (\code{gear_distribution})
\item Fish distribution statistics (\code{fish_distribution})
\item Landing site mapping data (\code{map_distribution})
}
}
\description{
This function processes and exports validated fishery data by calculating various
summary metrics and distributions, which are then uploaded to MongoDB collections
for usage in a dashboard.
}
\details{
The function performs the following operations:
\enumerate{
\item \strong{Data Retrieval}: Pulls validated fishery data from the "legacy-validated" MongoDB collection.
\item \strong{Summary Dataset Generation}: Creates the following summary datasets:
\itemize{
\item \strong{Monthly Statistics}: Aggregates metrics like catch, effort, and CPUE by BMU (Beach Management Unit) and month.
\item \strong{Gear Distribution}: Calculates the percentage usage of each gear type by landing site.
\item \strong{Fish Distribution}: Calculates the percentage of each fish category by landing site.
\item \strong{Mapping Distribution}: Prepares a dataset of landing sites with geographic coordinates for spatial mapping.
}
\item \strong{Data Upload}: Uploads each of the summary datasets to its designated MongoDB collection.
}

\strong{Calculated Metrics}:
\itemize{
\item \strong{Effort} = Number of fishers / Size of BMU in kmÂ²
\item \strong{CPUE} = Total catch in kg / Effort
\item \strong{Monthly Aggregations}:
\itemize{
\item Total catch (kg)
\item Mean catch per trip
\item Mean effort
\item Mean CPUE (Catch Per Unit Effort)
}
\item \strong{Gear Distribution}:
\itemize{
\item Count of each gear type used
\item Percentage distribution of gear types by landing site
}
\item \strong{Fish Distribution}:
\itemize{
\item Total catch by fish category
\item Percentage of each fish category within the total catch
}
}
}
\note{
\strong{Dependencies}:
\itemize{
\item Requires a configuration file compatible with the \code{read_config} function, containing MongoDB connection information.
\item Access to a \code{bmu_size} dataset, which provides size details of BMUs, retrieved via the \code{get_metadata()} function.
}
}
\examples{
\dontrun{
export_summaries()
}

}
\keyword{export}
\keyword{workflow}
