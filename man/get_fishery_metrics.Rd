% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export.R, R/preprocessing.R
\name{get_fishery_metrics}
\alias{get_fishery_metrics}
\title{Calculate Fishery Performance Metrics}
\usage{
get_fishery_metrics(data = NULL)

get_fishery_metrics(data = NULL)
}
\arguments{
\item{data}{A dataframe containing fishery landing data with columns:
submission_id, landing_date, landing_site, gear, no_of_fishers,
fish_category, catch_kg, and total_catch_price}

\item{validated_data}{A data frame containing validated fishery data with columns:
\itemize{
\item landing_site: Name of the landing site (will be renamed to BMU)
\item landing_date: Date of landing
\item no_of_fishers: Number of fishers
\item total_catch_kg: Total catch in kilograms
\item total_catch_price: Total catch value in currency
}}

\item{bmus_size_data}{A data frame containing BMU size information with columns:
\itemize{
\item BMU: Name of the Beach Management Unit (lowercase)
\item size_km: Size of the BMU in square kilometers
}}
}
\value{
A data frame with monthly aggregated metrics by BMU:
\itemize{
\item BMU: Name of the Beach Management Unit (title case)
\item date: First day of the month
\item mean_effort: Average fishers per square kilometer
\item mean_cpue: Average catch (kg) per fisher
\item mean_cpua: Average catch (kg) per square kilometer
\item mean_rpue: Average revenue per fisher
\item mean_rpua: Average revenue per square kilometer
\item mean_price_kg: Average price per kg
}

A dataframe in long format with columns:
\itemize{
\item landing_site: Name of the landing site
\item year_month: First day of the month
\item metric_type: Type of metric (e.g., "avg_fishers_per_trip", "cpue", "rpue", "species_pct")
\item metric_value: Numeric value of the metric
\item gear_type: Type of fishing gear (for gear-specific metrics, NA for site-level metrics)
\item species: Fish species name (for species-specific metrics, NA for other metrics)
\item rank: Rank order (for ranked metrics like top species, NA for others)
}
}
\description{
Calculates key fishery performance metrics from validated catch data,
including effort, CPUE (Catch Per Unit Effort), CPUA (Catch Per Unit Area),
RPUE (Revenue Per Unit Effort), RPUA (Revenue Per Unit Area) and Price per kg.

Summarizes fishery data to extract main characteristics including catch rates,
gear usage, species composition, CPUE and RPUE by gear type. Returns data in a fully
normalized long format for maximum interoperability and analytical flexibility.
}
\details{
Metrics are calculated as follows:
\itemize{
\item Effort = Total fishers / BMU size (km²)
\item CPUE = Total catch (kg) / Total fishers
\item CPUA = Total catch (kg) / BMU size (km²)
\item RPUE = Total revenue / Total fishers
\item RPUA = Total revenue / BMU size (km²)
\item Price per kg = Total revenue / Total catch (on single submissions level)
}

The function creates a fully normalized dataset where each row represents a single
metric observation. This format enables:
\itemize{
\item Easy filtering by metric type, gear, or species
\item Flexible aggregation and comparison across dimensions
\item Database-friendly structure for storage and querying
\item Simplified visualization and statistical analysis
}
}
\examples{
\dontrun{
fishery_metrics <- get_fishery_metrics(data = valid_data)

# Filter for CPUE metrics only
cpue_data <- fishery_metrics \%>\% filter(metric_type == "cpue")

# Filter for RPUE metrics only
rpue_data <- fishery_metrics \%>\% filter(metric_type == "rpue")

# Get predominant gear by site
main_gear <- fishery_metrics \%>\% filter(metric_type == "predominant_gear")
}

}
\keyword{helper}
