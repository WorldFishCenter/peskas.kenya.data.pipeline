% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validation-functions.R
\name{get_trips_flags}
\alias{get_trips_flags}
\title{Generate Trip-Level Validation Flags}
\usage{
get_trips_flags(dat = NULL, limits = NULL)
}
\arguments{
\item{dat}{A data frame containing KEFS survey trip data with columns:
\itemize{
\item submission_id: Unique identifier for the submission
\item hp: Horse power of the boat
\item no_of_fishers: Number of fishers on the trip
\item trip_duration: Duration of the trip in hours
\item catch_outcome: Whether catch was recorded ("yes" or "no")
\item total_catch_price: Total price of catch in Kenyan Shillings
\item total_catch_weight: Total weight of catch in kilograms
\item mesh_size: Mesh size used (if applicable)
}}

\item{limits}{A list containing threshold values for validation:
\itemize{
\item max_hp: Maximum acceptable horse power
\item max_n_fishers: Maximum acceptable number of fishers
\item max_trip_duration: Maximum acceptable trip duration in hours
\item max_revenue: Maximum acceptable revenue in Kenyan Shillings
}}
}
\value{
A data frame with columns:
\itemize{
\item submission_id: The original submission identifier
\item alert_flag_trip: Comma-separated string of alert codes (NA if no alerts):
\itemize{
\item "1": Horse power is <= 0 or exceeds maximum
\item "2": Number of fishers is <= 0 or exceeds maximum
\item "3": Trip duration is <= 0 or exceeds maximum
\item "4.1": Catch outcome is "yes" but total catch price is <= 0
\item "4.2": Catch outcome is "no" but total catch price is >= 0
\item "4.3": Total catch price exceeds maximum revenue limit
}
}
}
\description{
This function validates trip-level characteristics from KEFS survey data and generates
alert flags for anomalous values. It checks for unrealistic or inconsistent values in
horse power, number of fishers, trip duration, and total catch price.
}
\examples{
\dontrun{
trip_limits <- list(
  max_hp = 150,
  max_n_fishers = 100,
  max_trip_duration = 96,
  max_revenue = 387600
)
trip_flags <- get_trips_flags(dat = survey_data, limits = trip_limits)
}
}
\keyword{validation}
