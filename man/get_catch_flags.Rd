% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validation-functions.R
\name{get_catch_flags}
\alias{get_catch_flags}
\title{Generate Catch-Level Validation Flags}
\usage{
get_catch_flags(dat = NULL)
}
\arguments{
\item{dat}{A data frame containing KEFS survey catch data with columns:
\itemize{
\item submission_id: Unique identifier for the submission
\item catch_outcome: Whether catch was recorded ("yes" or "no")
\item total_sample_weight: Total weight of all samples in kilograms
\item total_catch_weight: Total weight of the entire catch in kilograms
\item sample_weight: Weight of individual sample in kilograms
\item sample_price: Price of the sample
}}
}
\value{
A data frame with columns:
\itemize{
\item submission_id: The original submission identifier
\item alert_flag_catch: Comma-separated string of alert codes (NA if no alerts):
\itemize{
\item "5.1": Total sample weight exceeds total catch weight
\item "5.2": Individual sample weight exceeds either total sample weight
or total catch weight
}
}
}
\description{
This function validates catch-level data from KEFS surveys and generates alert flags
for inconsistencies in sample weights relative to total catch weights. It focuses on
submissions where catch outcome was "yes" and checks for logical inconsistencies in
the relationship between sample weights and total weights.
}
\details{
The function only processes submissions where catch_outcome is "yes". It identifies
two types of weight inconsistencies:
\enumerate{
\item The sum of all samples exceeds the total reported catch
\item An individual sample weighs more than the total it's supposed to be part of
}
}
\examples{
\dontrun{
catch_flags <- get_catch_flags(dat = survey_data)
}
}
\keyword{validation}
